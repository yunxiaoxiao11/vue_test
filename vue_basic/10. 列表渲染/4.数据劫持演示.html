<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <title>姓名案例</title>
  <style></style>
</head>

<body>
<script type="text/javascript">
  let data = {
    name: "yuv",
    address: "南京"
  }

  const obs = new Observer(data);
  console.log(obs)
  function Observer(obj) {
    // 汇总属性
    const keys = Object.keys(obj)
    keys.forEach((k) => {
      Object.defineProperty(this, k, {
        get() {
          return obj[k]
        },
        set(v) {
          obj[k] = v
        }
      })
    })
  }

  // 错误的读写，递归
  /*
    Object.defineProperty(data, 'name', {
      get() {
        return data.name
      },
      set(val) {
        data.name = val
      }
    })
  */

</script>
</body>
</html>
